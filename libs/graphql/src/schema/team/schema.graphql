type MemberQualifications {
  userPk: String!
  qualifications: [String!]!
}

type Team {
  pk: String!
  name: String!
  createdAt: DateTime!
  updatedAt: DateTime
  createdBy: User
  updatedBy: User
  members(qualifications: [String!]): [User!]!
  schedule(startDate: Date!, endDate: Date!): Schedule!
  approvedSchedule(startDate: Date!, endDate: Date!): Schedule!
  settings(name: String!): JSON
  teamMembersQualifications: [MemberQualifications!]!
  resourcePermission: Int
  unitPk: String!
  companyPk: String!
}

input CreateTeamMemberInput {
  teamPk: String!
  name: String!
  email: String!
  permission: Int!
}

input UpdateTeamMemberInput {
  teamPk: String!
  memberPk: String!
  name: String!
  email: String!
  permission: Int!
}

extend type Mutation {
  createTeam(unitPk: String!, name: String!): Team!
  updateTeam(pk: String!, name: String!): Team!
  deleteTeam(pk: String!): Team!
  removeUserFromTeam(teamPk: String!, userPk: String!): Team!
  updateTeamSettings(teamPk: String!, name: String!, settings: JSON!): Team!
  saveTeamMemberQualifications(
    teamPk: String!
    userPk: String!
    qualifications: [String!]!
  ): Team!
  createTeamMember(input: CreateTeamMemberInput!): User!
  updateTeamMember(input: UpdateTeamMemberInput!): User!
}

extend type Query {
  team(teamPk: String!): Team!
  allTeams: [Team!]!
  teamMember(teamPk: String!, memberPk: String!): User!
}
